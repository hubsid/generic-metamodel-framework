drop all objects;
create table object_type (id int generated by default as IDENTITY, name varchar(30),
description varchar(200),
parent_id int, foreign key(parent_id) references object_type(id) on delete CASCADE);

insert into object_type(id, name, parent_id) values(0, 'root', 0);

create table attribute_type(name varchar(15) PRIMARY key, description varchar(200));

insert into attribute_type(name) values('number'), ('decimal'), ('boolean'), ('text'), ('date'), ('file'), ('url'), ('list'), ('ref');

create table attribute(
id int generated by default as IDENTITY,
name varchar(30),
description varchar(200),
attribute_type_id varchar(15),
foreign key(attribute_type_id) references attribute_type(name) on delete CASCADE);

create table attribute_object_type(attribute_id int, object_type_id int,
foreign key(attribute_id) references attribute(id) on delete CASCADE,
foreign key(object_type_id) references object_type(id) on delete CASCADE);
